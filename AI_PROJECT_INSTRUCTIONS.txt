; ------------------------------------------------------------------
; GEMINI MEM TAG (DO NOT EVER REMOVE OR EDIT) - MY FULL PATH IS "Pipz_Project_V3\AI_PROJECT_INSTRUCTIONS.txt"
; ------------------------------------------------------------------

; ------------------------------------------------------------------
; Pipz_Project_V3 [AHK v2] (AI-Specific Operating Instructions)
; ------------------------------------------------------------------
; MAINTEMPLATE - AI_PROJECT_INSTRUCTIONS.txt
; Version: 1.6.2
; Last change: Revised sections to reflect new merged governance and registry files.
; Content-Fingerprint: 2026-01-26T21-17-39Z-D8KX2JYD
; ------------------------------------------------------------------

; ------------------------------------------------------------------
; ALL CONTENT MUST GO BELOW THIS POINT(LINES 1-14 RESERVED)
; ------------------------------------------------------------------

; ------------------------------------------------------------------
BOOTSTRAP v4 — CONVERSATION INITIALIZATION PROTOCOL (MANDATORY)
; ------------------------------------------------------------------

Bootstrap v4 is a mandatory conversation initialization protocol for Pipz_Project_V3.

Its purpose is to guarantee that the AI can reliably re-establish full project authority at the start of any new chat without relying on memory, inference, cached state, or Google Drive search heuristics.

Bootstrap v4 MUST be executed before any analysis, debugging, suggestions, refactors, or proposed changes related to Pipz_Project_V3.

; ------------------------------------------------------------------
BOOTSTRAP ARTIFACT REFERENCE RULE (CANONICAL)
; ------------------------------------------------------------------

The canonical, authoritative definition of the Bootstrap v4 protocol is:

; - Pipz_Project_V3\BOOTSTRAPv4.txt

Rules:

B1. At the start of every new chat related to Pipz_Project_V3, after completing PHASE 0 of this file, the AI MUST locate, open, and fully read:

    ; - Pipz_Project_V3\BOOTSTRAPv4.txt
	
B2. The AI MUST execute Bootstrap v4 strictly according to the contents of BOOTSTRAPv4.txt.

B3. Any summary, restatement, or partial duplication of Bootstrap v4 steps in this file is informational only and MUST NOT override BOOTSTRAPv4.txt.

B4. The "BOOTSTRAP v4 COMPLETE — Pipz_Project_V3 authority established." declaration is VALID only if BOOTSTRAPv4.txt has been read in full during the current session.

B5. If BOOTSTRAPv4.txt cannot be located, opened, fully read, or verified (including GEMINI MEM TAG and Content-Fingerprint), the AI MUST STOP. On any STOP condition, the AI must also comply with Rule 3b.

; ------------------------------------------------------------------
BOOTSTRAP v4 ENFORCEMENT GATE (ABSOLUTE)
; ------------------------------------------------------------------

E1. Any response related to Pipz_Project_V3 that includes analysis, reasoning, suggestions, debugging, refactors, audits, or proposed changes MUST occur only after successful Bootstrap v4 completion in the same session.

E2. Successful Bootstrap v4 completion is defined exclusively as:

    ; - Full execution of Phases 0–4 as defined in BOOTSTRAPv4.txt, AND
    ; - Emission of the exact declaration:

      "BOOTSTRAP v4 COMPLETE — Pipz_Project_V3 authority established."

E3. If the declaration has not been emitted in the current session:

    ; - The AI MUST NOT proceed
    ; - The AI MUST instruct the user to initiate or allow Bootstrap v4 execution
    ; - The AI MUST NOT infer prior completion, even if files appear unchanged

E4. Memory, prior conversation history, prior confirmations, or previous chats MUST NOT be used as evidence of Bootstrap completion.

E5. This rule applies to:

    ; - New chats
    ; - Resumed chats
    ; - Long-running chats after context loss
    ; - Any situation where authority cannot be freshly proven

; ------------------------------------------------------------------
BOOTSTRAP v4 INVOCATION TOKEN REQUIREMENT (ABSOLUTE)
; ------------------------------------------------------------------

For any new chat session related to Pipz_Project_V3, the user's FIRST message MUST include a machine-checkable invocation token and canonical invocation text.
The required invocation is STRICT and MUST appear exactly as one of the following formats:

FORMAT 1:

BOOTSTRAP_V4_INIT
This project is defined in my Google Drive under Pipz_Project_V3.
Locate AI_PROJECT_INSTRUCTIONS.txt and initiate Bootstrap v4.

FORMAT 2:

BOOTSTRAP_V4_INIT

Rules:
T1. The first non-empty line of the user's first message in a new session MUST be exactly:

	BOOTSTRAP_V4_INIT

T2. The second and third lines MUST be exactly:

    This project is defined in my Google Drive under Pipz_Project_V3.
    Locate AI_PROJECT_INSTRUCTIONS.txt and initiate Bootstrap v4.

T3. If the token or canonical invocation text is missing, malformed, reordered, or paraphrased:

    ; - The AI MUST STOP.
    ; - The AI MUST request the user to resend the exact required invocation block.
    ; - The AI MUST NOT assume a Drive-backed project exists.
    ; - The AI MUST NOT initiate Bootstrap v4.

T4. Google Drive connector availability alone does NOT constitute authorization.

T5. This token requirement exists to guarantee:

    ; - Clean cold-start behavior
    ; - No reliance on memory
    ; - Deterministic bootstrap execution across AI platforms

; ------------------------------------------------------------------
PHASE 0 — GOVERNANCE GATE
; ------------------------------------------------------------------

The AI MUST:
0.1 Locate, open, and fully read:

    ; - Pipz_Project_V3\AI_PROJECT_INSTRUCTIONS.txt
	
0.2 Verify:

    ; - Presence of GEMINI MEM TAG
    ; - Presence of Content-Fingerprint
    ; - Fingerprint is readable and well-formed
	
0.3 Obey all rules defined in this file, including:

    ; - Mandatory re-verification
    ; - Fingerprint precedence
    ; - Stop-on-conflict behavior
    ; - Hidden Permanence Confirmation Rule (Rule 16)

STOP CONDITIONS:

; - File cannot be opened
; - File is truncated
; - Fingerprint is missing or malformed
; - Any rule cannot be satisfied

; ------------------------------------------------------------------
PHASE 1 — ROOT RESOLUTION
; ------------------------------------------------------------------

Bootstrap v4 MUST NOT rely on Google Drive search alone.

Root resolution precedence is STRICT:

1) INDEXIDLIST.txt (if present)
2) GEMINI MEM TAG declared paths
3) _PROJECT_BLUEPRINT.txt defined structure
4) Google Drive search (LAST RESORT ONLY)

Drive IDs provide deterministic location only and do not establish content truth.
If the project root cannot be resolved deterministically, the AI MUST STOP.

; ------------------------------------------------------------------
PHASE 2 — CANONICAL FILE SET VERIFICATION
; ------------------------------------------------------------------

The AI MUST locate, open, and fully read the following minimum canonical set:

; - AI_PROJECT_INSTRUCTIONS.txt
; - _PROJECT_BLUEPRINT.txt
; - _PROJECT_ANCHOR_MASTER.txt
; - INDEXIDLIST.txt
; - GLOBAL_REGISTRY_MASTER.csv or GLOBAL_REGISTRY_MASTER.gsheet
  ; - All required sections (GLOBAL_STATE_REGISTRY, GLOBAL_FUNCTION_REGISTRY, GLOBAL_LOGIC_RULES_REGISTRY)

Each file must:

; - Be readable in full
; - Declare Content-Fingerprint where applicable
; - Match declared identity

STOP CONDITIONS:

; - Any file is missing
; - Any file is unreadable or truncated
; - Any required registry tab is inaccessible

; ------------------------------------------------------------------
PHASE 3 — STRUCTURE RECONSTRUCTION
; ------------------------------------------------------------------

Using only authoritative declarations, the AI reconstructs the expected project structure, including:

; - Root directory
; - Controller, Worker, Lib, and Modules subdirectories
; - Required .txt mirrors
; - Required runtime counterparts

This phase establishes what MUST exist, not what Drive happens to expose.
Inference, assumption, or memory-based reconstruction is prohibited.

; ------------------------------------------------------------------
PHASE 4 — VERIFICATION DECLARATION
; ------------------------------------------------------------------

Only after Phases 0–3 succeed may the AI:

; - Declare Bootstrap v4 completion
; - Proceed with analysis, debugging, or code work

All subsequent responses MUST continue to obey:

; - Fingerprint declaration rules
; - Stop-on-conflict rules
; - No inference / no assumption rules

; ------------------------------------------------------------------
PHASE 5 — FULL VISIBILITY & ACCESSIBILITY AUDIT (OPTIONAL)
; ------------------------------------------------------------------

Phase 5 is an optional extension to Bootstrap v4.
Phase 5 MUST NOT be executed unless the user explicitly requests it by name.

Phase 5 MUST NEVER be:

; - Implied
; - Assumed
; - Auto-invoked
; - Triggered as part of Bootstrap v4
; - Executed due to partial failure, uncertainty, or missing Drive visibility

Phase 5 does not establish governance correctness.

; ------------------------------------------------------------------
PHASE 5 — PURPOSE
; ------------------------------------------------------------------

When invoked, Phase 5 performs a full recursive audit of the project's Google Drive presence to determine:

; - Which directories and files exist
; - Which are readable
; - Which are missing
; - Which are orphaned
; - Which are mis-located
; - Which are ungoverned
; - Which are inaccessible due to permissions or indexing failures

; ------------------------------------------------------------------
PHASE 5 — EXECUTION RULES
; ------------------------------------------------------------------

Phase 5 execution MUST follow Pipz_Project_V3\PHASE5_EXECUTION_CHECKLIST.txt.

5.1 Root-Anchored Traversal
; - Enumeration MUST begin from the resolved project root folder ID
; - Child discovery MUST use parent-child traversal
; - Google Drive search MUST NOT be used for discovery

5.2 Recursive Enumeration
For every folder:

; - Enumerate all files and subfolders
; - Record Drive ID, name, parent ID, and type
; - Attempt to open readable files

5.3 Path Reconstruction
For every discovered item:

; - Rebuild full path by walking parents to root
; - Compare against:

  ; - GEMINI MEM TAG paths
  ; - Blueprint-defined expected locations

5.4 Reconciliation
Compare:

1) Expected set (Blueprint + Anchor)
2) Discovered set (Drive traversal)
3) Indexed set (INDEXIDLIST)

Classify each item as:

; - VERIFIED
; - UNREADABLE
; - MISSING
; - ORPHANED
; - UNGOVERNED

; ------------------------------------------------------------------
PHASE 5 — OUTPUT
; ------------------------------------------------------------------

Phase 5 produces a read-only audit report.

Phase 5 MUST NOT:

; - Modify files
; - Create mirrors
; - Update registries
; - Repair structure

Failures in Phase 5 DO NOT invalidate Bootstrap v4 but MUST be explicitly reported.

; ------------------------------------------------------------------
0. Permanence Reinforcement Rule
; ------------------------------------------------------------------

0a. At the start of every session, the AI must confirm it has read this file.

0b. Connector Availability Requirement Rule

0ba. If Google Drive access is unavailable, disconnected, expired, or fails at any point during a session, the AI must:
0baa. Explicitly state that Google Drive access is unavailable.
0bab. Stop immediately without analysis, suggestions, or assumptions.
0bac. Wait for the user to restore access.

; ------------------------------------------------------------------
1. Blueprint Architecture Reference Rule
; ------------------------------------------------------------------

1a. Whenever a request involves:
1aa. File interactions
1ab. Module responsibilities
1ac. Includes or dependencies
1ad. Ownership of logic
1ae. Controller/worker boundaries

1b. The AI must:
1ba. Locate and read the current _PROJECT_BLUEPRINT.txt from Google Drive.
1bb. Use the "MASTER BLUEPRINT: FOLDER ARCHITECTURE" section as the authoritative definition of structure and responsibility.
1bc. Reject any reasoning or suggestion that contradicts the blueprint.

1c. If the blueprint cannot be verified, the AI must stop.

; ------------------------------------------------------------------
2. Mandatory Re-Verification Rule
; ------------------------------------------------------------------

2a. For every response related to Pipz_Project_V3:

2aa. The AI must identify which project files are relevant to the user's request.
2ab. The AI must locate, open, and fully read the current .txt mirror of each relevant file from Google Drive within the same response cycle.
2ac. The AI must base its response only on the contents verified in that cycle, not on memory from prior messages.
2ad. If any relevant mirror file cannot be found, opened, or verified as current, the AI must stop and report the issue.

2b. Cached knowledge, prior conversation context, or previous reads may not be used as substitutes for verification.

; ------------------------------------------------------------------
2c. Content-Fingerprint Cache-Busting Rule
; ------------------------------------------------------------------

2ca. Every relevant .txt mirror must contain a Content-Fingerprint line in its MAINTEMPLATE header.

2cb. Content-Fingerprint format is defined as:
YYYY-MM-DDTHH-MM-SSZ-XXXXXXXX

Where:
; - The timestamp is in UTC.
; - The suffix is exactly 8 characters.
; - Valid suffix characters are uppercase A–Z and digits 0–9.

2cc. For each relevant .txt mirror read in a response cycle, the AI must locate and extract the Content-Fingerprint value.

2cd. The AI must treat any previously-read copy of that file as stale if its Content-Fingerprint differs from the value extracted in the current cycle.

2ce. If the user supplies a Content-Fingerprint (full or suffix-only) for a file, the AI must verify that the current .txt mirror's Content-Fingerprint matches before reasoning or proposing changes.

2cf. If a relevant .txt mirror lacks a Content-Fingerprint line, the AI must stop and report the missing fingerprint.

; ------------------------------------------------------------------
2d. Response Fingerprint Declaration Rule
; ------------------------------------------------------------------

2da. For any response that includes analysis, suggestions, refactors, debugging, or proposed changes related to Pipz_Project_V3, the AI must declare the Content-Fingerprint value(s) it used.

2db. This declaration must appear at the very top of the response, before any analysis or content, in the following format:

Fingerprint Used: <Content-Fingerprint>

2dc. If multiple files are involved, the AI must list each file and its corresponding Content-Fingerprint.

2dd. If the AI cannot confidently declare the Content-Fingerprint used, it must stop and report the verification failure instead of responding.

; ------------------------------------------------------------------
2e. Fingerprint Challenge Mode (FCM) Rule
; ------------------------------------------------------------------

2ea. If the very first line of the user's message begins with the exact prefix "FCM-", the AI must treat the request as a Fingerprint Challenge Mode (FCM) request.

2eb. FCM line format (STRICT):

FCM-<FINGERPRINT>-<FILENAME>

2ebc. <FINGERPRINT> may be provided in one of two allowed formats:

2ebca. Full fingerprint format:
YYYY-MM-DDTHH-MM-SSZ-XXXXXXXX

2ebcb. Suffix-only fingerprint format:
XXXXXXXX

Where:
; - XXXXXXXX is the final 8 characters of the Content-Fingerprint.
; - Valid characters are uppercase A–Z and digits 0–9.

2ebd. The AI must determine which fingerprint format was provided based on structure and length, not by assumption.

2ebe. If a full fingerprint is provided, the AI must compare the entire Content-Fingerprint value for an exact match.

2ebf. If a suffix-only fingerprint is provided, the AI must compare only the final 8 characters of the Content-Fingerprint, but must still extract and later declare the full Content-Fingerprint value used.

2ec. Multiple FCM lines may be provided, one per file, and must appear as consecutive lines at the very top of the user's message before any other content.

2ed. For each FCM line, the AI must:
2eda. Locate, open, and fully read the corresponding .txt mirror from Google Drive.
2edb. Extract the full Content-Fingerprint value.
2edc. Perform the comparison required by Rule 2ebe or 2ebf.

2ee. If any comparison fails, the AI must stop and respond with:
2eea. An explicit statement that the fingerprint did not match.
2eeb. The expected fingerprint or suffix provided by the user.
2eec. The full Content-Fingerprint value found in the mirror.

2eef. While any FCM mismatch exists, the AI must not provide analysis, suggestions, refactors, debugging, or proposed changes.

2ef. If all FCM checks pass, the AI may proceed, but must still comply with Rule 2d by declaring the full Content-Fingerprint value(s) used at the top of its response.

; ------------------------------------------------------------------
2f. Drive Folder / File ID Acceleration Rule (NON-SUBSTITUTIVE)
; ------------------------------------------------------------------

2fa. If the user provides explicit Google Drive folder IDs or file IDs, the AI is permitted to use them to enumerate contents directly.

2fb. Provided IDs may be used to:
2fba. Resolve the project root directory.
2fbb. Enumerate full directory trees, including non-text assets.
2fbc. Locate files that are not discoverable via content search.

2fc. Drive IDs are an acceleration mechanism only and MUST NOT replace:
2fca. Targeted search requirements.
2fcb. GEMINI MEM TAG path verification.
2fcc. Content-Fingerprint verification.
2fcd. Registry and blueprint verification.

2fd. If Drive ID enumeration results conflict with search results, declared paths, or fingerprints:
2fda. The AI must stop.
2fdb. Report the discrepancy.
2fdc. Wait for explicit user instruction.

2fe. Absence of provided Drive IDs MUST NOT be treated as an error or failure condition.

; ------------------------------------------------------------------
2g. Drive ID vs Verification Precedence Rule (AMBIGUITY RESOLUTION)
; ------------------------------------------------------------------

2ga. Google Drive folder and file IDs (including VERIFIED status) provide deterministic location only and do not establish content truth, freshness, or correctness.
2gb. The precedence order is STRICT:
2gba. AI_PROJECT_INSTRUCTIONS governance rules.
2gbb. Content-Fingerprint verification (cache-busting rules).
2gbc. GEMINI MEM TAG declared path identity.
2gbd. Blueprint-defined structure and responsibility.
2gbe. Drive IDs, folder listings, and search results.

2gc. If Drive IDs conflict with declared paths, fingerprints, or blueprint structure:
2gca. The AI must stop immediately.
2gcb. Report expected vs observed values.
2gcc. Wait for explicit user instruction.

2gd. If tooling limitations (including truncation, partial reads, or access restrictions) prevent a verifiable full read of any required governance file, relevant mirror file, or required registry tab:
2gda. The AI must stop and explicitly report the limitation.
2gdb. The AI must not infer, assume, summarize, or fabricate missing content under any circumstances, even if Drive IDs are VERIFIED.

2ge. If folder listing is unavailable or incomplete:
2gea. The AI may fall back to search-only reconstruction using declared paths.
2geb. The fallback is valid only if all required verification rules (fingerprints, path identity, and required file reads) can still be satisfied.
2gec. If verification cannot be satisfied under fallback, the AI must stop.

; ------------------------------------------------------------------
2h. Project Learned Constraints Mandatory Consultation Rule (ABSOLUTE)
; ------------------------------------------------------------------

2ha. Before the AI may perform any analysis, reasoning, suggestion, refactor,
     debugging step, architectural proposal, or solution design related to
     Pipz_Project_V3, the AI MUST:

2haa. Locate, open, and fully read:
      ; - Pipz_Project_V3\PROJECT_LEARNED_CONSTRAINTS.txt

2hab. Actively evaluate whether any existing constraint is relevant to the
      current task, file, subsystem, or approach under consideration.

2hb. The PROJECT_LEARNED_CONSTRAINTS.txt file is authoritative for negative
     knowledge.

2hc. Any approach, method, or pattern recorded as invalidated or constrained
     MUST NOT be repeated, suggested, or reintroduced unless the user explicitly
     authorizes re-evaluation.

2hd. If a relevant learned constraint exists:
2hda. The AI MUST acknowledge it internally before reasoning.
2hdb. The AI MUST NOT propose the constrained approach.
2hdc. The AI MUST adapt its reasoning accordingly or stop.

2he. During any session, if the AI discovers that:
2hea. A method it attempted failed,
2heb. A proposal it made was invalid,
2hec. A tooling or architectural assumption was proven incorrect,
2hed. Or an approach conflicts with project reality,

2hf. The AI MUST immediately draft a proposed entry for:
      ; - Pipz_Project_V3\PROJECT_LEARNED_CONSTRAINTS.txt

2hg. Drafted constraint entries MUST:
2hga. Follow the Project Learned Constraints ID Policy.
2hgb. Clearly describe the invalidated approach.
2hgc. Be presented to the user explicitly for confirmation or rejection.

2hh. Failure to consult PROJECT_LEARNED_CONSTRAINTS.txt before reasoning, or
     failure to draft a newly discovered constraint, constitutes a violation
     of this instruction set and requires the AI to stop under Rule 3b.

; ------------------------------------------------------------------
2i. Implicit File Reference Resolution Rule (ABSOLUTE)
; ------------------------------------------------------------------

2ia. If the user references a project file by name or role (explicitly or
     implicitly), and that file is part of Pipz_Project_V3 governance,
     structure, or tooling, the AI MUST attempt deterministic resolution
     before claiming inability to read or locate the file.

2ib. Deterministic resolution MUST follow this order:
2iba. Consult Pipz_Project_V3\INDEXIDLIST.txt for a matching file entry,
      including alias and role mappings defined therein.
2ibb. Use the associated Drive ID to locate and open the file.
2ibc. Verify the file identity using path declarations and fingerprints.

2ic. The AI MUST NOT state that it cannot locate, read, or verify a file
     if a valid Drive ID exists for that file in INDEXIDLIST.txt.

2id. Only if:
     ; - No matching entry exists in INDEXIDLIST.txt, AND
     ; - Path-based resolution fails, AND
     ; - Search fallback is exhausted per Rule 2g,
     may the AI report inability to locate the file.

2ie. Failure to consult INDEXIDLIST.txt when resolving an implicitly
     referenced file constitutes a violation of this instruction set
     and requires the AI to stop under Rule 3b.

; ------------------------------------------------------------------
2j. Response Status Header Rule (ABSOLUTE)
; ------------------------------------------------------------------

2ja. Any AI response that references, analyzes, reasons about, or proposes
     changes to any Pipz_Project_V3 file, structure, registry, blueprint,
     indexing, or governance artifact MUST include exactly one of the
     following status headers:

STATUS — LIVE
STATUS — HISTORICAL

2jb. STATUS — LIVE may be used ONLY if, in the current response cycle, the AI has:
2jba. Completed all required Bootstrap gating for the session when applicable.
2jbb. Complied with Rule 2 (Mandatory Re-Verification) for all relevant files.
2jbc. Complied with Rule 2h (PROJECT_LEARNED_CONSTRAINTS consultation).
2jbd. Complied with Rule 2i (deterministic resolution using INDEXIDLIST, including aliases).

2jc. STATUS — HISTORICAL MUST be used if any condition required by Rule 2jb
     cannot be satisfied in the current response cycle.

2jd. HISTORICAL RESPONSE LIMITATION (ABSOLUTE):
2jda. A STATUS — HISTORICAL response MUST contain explanation and remediation only.
2jdb. A STATUS — HISTORICAL response MUST NOT contain substantive analysis,
      reasoning, design proposals, refactors, debugging steps, or code changes.
2jdc. A STATUS — HISTORICAL response MUST comply with Rule 3b:
      ; - Cite the blocking rule(s)
      ; - Explain why compliance is not possible
      ; - Propose 1–3 resolution paths
      ; - Wait for explicit user instruction

2je. ORDERING RULE (STRICT):
2jea. If Rule 16 initial confirmation applies, the first non-empty line MUST be:
      ANYSKIPPERS
2jeb. If Rule 16 initial confirmation applies, the STATUS header MUST appear as
      the next non-empty line immediately after ANYSKIPPERS.
2jec. Otherwise, the STATUS header MUST be the first non-empty line of the response.

2jf. LIVE + FINGERPRINT ORDERING (STRICT):
2jfa. If STATUS — LIVE is used and the response contains analysis/suggestions/
      refactors/debugging/proposed changes, the response MUST also comply with Rule 2d
      by declaring Fingerprint Used immediately after the STATUS header.

2jg. Failure to include the required STATUS header, or misuse of STATUS — LIVE,
     constitutes a violation of this instruction set and requires STOP under Rule 3b.

; ------------------------------------------------------------------
2k. Pre-Transmission Sanity Audit (MANDATORY EXIT-GATE)
; ------------------------------------------------------------------
2ka. Prior to completing any response, the AI MUST perform a silent internal 
     audit of the proposed content against all project governance files.
2kb. VERIFICATION CRITERIA:
     - Is there a Version Header from STANDARDIZED_HEADERS.txt?
     - Is the content a 1:1 literal match (no summarization)?
     - Does the logic violate any PLC (e.g., PLC-0005 or PLC-0006)?
     - Are all registry updates formatted in raw tab-separated style?
2kc. If any violation is detected, the AI must discard the drafted response 
     and regenerate a compliant version.
2kd. Failure to perform this audit or outputting non-compliant content 
     constitutes a "Hard-Stop" breach under Rule 3b.

; ------------------------------------------------------------------
3. Scope of Authority Rule
; ------------------------------------------------------------------

3a. These rules govern all AI involvement in Pipz_Project_V3, including:

3aa. Analysis
3ab. Suggestions
3ac. Refactors
3ad. New features
3ae. Audits
3af. Debugging
3ag. Documentation updates

3b. If any rule in this document cannot be followed, the AI must stop and report why.

3ba. The AI must explicitly state which rule(s) cannot be followed.
3bb. The AI must explain why the rule(s) cannot be satisfied in the current situation.
3bc. The AI must propose at least one viable resolution path.
3bd. When possible, the AI must propose two to three alternative resolution paths.
3be. The AI must wait for explicit user instruction before proceeding.
3bf. This requirement applies to all STOP conditions defined elsewhere in this document.
3bg. This includes, but is not limited to, failure to comply with Rule 2h
     (Project Learned Constraints Mandatory Consultation Rule).
3bh. This includes, but is not limited to, failure to comply with Rule 2j
     (Response Status Header Rule).

3c. Project Learned Constraints ID Policy (ABSOLUTE)

3ca. All entries in Pipz_Project_V3\PROJECT_LEARNED_CONSTRAINTS.txt must be identified
     by a stable, monotonically increasing ID using the format:

     PLC-XXXX

Where: 
;- XXXX is a zero-padded decimal number.

3cb. IDs are assigned strictly in order of discovery and must never be:

3cba. Reused
3cbb. Renumbered
3cbc. Reordered
3cbd. Repurposed to encode semantic meaning

3cc. Gaps in numbering are permitted and must not be filled.

3cd. The ID itself is an opaque identifier; all meaning must be expressed
     in the entry title and body, not in the ID.

3ce. Any reference to a learned constraint in governance, audits, reasoning,
     or regression prevention must reference the constraint by its PLC ID.

3cf. Deleting or modifying an existing PLC entry does not permit reassignment
     of its ID.

; ------------------------------------------------------------------
3d. Proactive Constraint Capture Mandate (THE "EMISSION" RULE)
; ------------------------------------------------------------------

3da. Upon identifying a "Learned Constraint" (defined as any discovery that 
     invalidates a previous approach, reveals a platform/tooling limitation, 
     or identifies a non-obvious failure mode), the AI MUST immediately 
     stop and draft a new entry for PROJECT_LEARNED_CONSTRAINTS.txt.

3db. The AI is FORBIDDEN from attempting to "fix" the issue in code or 
     structural files until the PLC entry has been formally proposed and 
     accepted into the project context.

3dc. The draft MUST follow the MAINTEMPLATE format and adhere to the 
     ID Policy defined in Rule 3c.

3dd. Proceeding before documenting a known regression in the 
     PLC constitutes a Governance Breach under Rule 3b.

; ------------------------------------------------------------------
4. Version Header Enforcement Rule (ABSOLUTE)
; ------------------------------------------------------------------

4a. The AI must NEVER modify, suggest modifying, or generate modified code unless the file contains a valid version header and that header is updated as part of the change.

4b. Required header format (STRICT):

; ------------------------------------------------------------------
; MAINTEMPLATE - FILENAME (AHK v2)
; Version: x.x.x (SEMANTIC VERSIONING)
; Last change: BRIEF SUMMARY OF THE MOST RECENT CHANGES.
; ------------------------------------------------------------------

4c. Enforcement rules:

4ca. Semantic versioning is mandatory:
4caa. MAJOR → breaking changes
4cab. MINOR → new behavior / features
4cac. PATCH → fixes, refactors, non-breaking changes

4cb. Exactly one "Last change" line.
4cc. If the header is missing, outdated, malformed, or not updated, the AI must refuse the change.

; ------------------------------------------------------------------
4d. Cross-Language Header Comment Prefix Compatibility Rule (ABSOLUTE)
; ------------------------------------------------------------------

4da. The required MAINTEMPLATE header fields and semantics (Version, Last change, Content-Fingerprint) apply to ALL governed-readable files, not only .ahk.

4db. The comment prefix used for the MAINTEMPLATE header and related governance lines MUST match the file’s language:

4dba. ';'  → .ahk, .ini, and governed .txt documents
4dbb. '//' → .js and .ts
4dbc. '#'  → .py, .yml, and .yaml

4dc. JSON files (.json) MUST NOT include commented headers (JSON does not support comments). For governed JSON, a sidecar governance file MUST be used:

4dca. <file>.json (pure JSON)
4dcb. <file>.json.governance.txt (governed header + identity + fingerprint)

4dd. If the correct comment prefix cannot be used (e.g., due to parser or tooling constraints), the AI MUST STOP under Rule 3b and propose a compliant alternative.

; ------------------------------------------------------------------
5. Drive Mirror Rule (PRIMARY READ SOURCE)
; ------------------------------------------------------------------

5a. The AI must treat .txt mirrors in Google Drive as the authoritative readable source.

5b. Rules:
5ba. .txt files are used for reading, analysis, verification, and reasoning.
5bb. .ahk / .ini files are treated as runtime artifacts only.
5bc. If a .txt mirror and a runtime file disagree, the .txt mirror wins.

5c. The AI must never assume parity and must verify.

; ------------------------------------------------------------------
6. Path Identity Requirement Rule
; ------------------------------------------------------------------

6a. Every file the AI reads or modifies must be identified by its declared path, not by inference.

6b. Mandatory check:
6ba. Each .txt mirror must contain a path declaration:

; GEMINI MEM TAG
; MY FULL PATH IS "Pipz_Project_V3\<relative\path>"

6c. Rules:
6ca. The AI must confirm this tag before reasoning about file location.
6cb. Path reconstruction must use this tag, never assumptions.
6cc. If the tag is missing or ambiguous, the AI must stop.

6cd. The GEMINI MEM TAG and path declaration lines MUST be commented using the file’s correct comment prefix as defined in Rule 4d (e.g., '//' for .js/.ts, '#' for .py/.yaml). The semantic text must remain identical.

6ce. The AI MUST NOT reject an otherwise valid GEMINI MEM TAG solely because the comment prefix differs from ';' when the file type requires a different prefix.

; ------------------------------------------------------------------
7. Registry Supremacy Rule
; ------------------------------------------------------------------

7a. GLOBAL_REGISTRY_MASTER.csv and GLOBAL_REGISTRY_MASTER.gsheet(Same file, different types) are the single source of truth for:
7aa. Global variables
7ab. Function ownership
7ac. Logic invariants

7b. AI obligations:
7ba. Never introduce a variable or function not present in the registry.
7bb. Never remove a registry entry.
7bc. If code conflicts with the registry:
7bca. The AI must flag the conflict.
7bcb. Propose reconciliation.
7bcc. Wait for confirmation before proceeding.

7c. The AI must consult the registry before writing code, not after.

; ------------------------------------------------------------------
8. Blueprint Synchronization Rule
; ------------------------------------------------------------------

8a. Any AI-suggested or AI-generated change that affects:
8aa. Structure
8ab. Ownership
8ac. Architecture
8ad. Responsibility

8b. Must be reflected in:
8ba. Code
8bb. .txt mirror
8bc. _PROJECT_BLUEPRINT.txt (and _PROJECT_ANCHOR_MASTER.txt when applicable)

8c. If synchronization is incomplete, the change is invalid.

; ------------------------------------------------------------------
9. Verification-Before-Action Rule
; ------------------------------------------------------------------

9a. Before the AI may:
9aa. Refactor
9ab. Optimize
9ac. Extend functionality
9ad. Move code
9ae. Rename symbols

9b. It must first:
9ba. Locate the file via Drive.
9bb. Open and read its full contents.
9bc. Confirm registry alignment.
9bd. Confirm blueprint alignment.

9c. Skipping any step is prohibited.

; ------------------------------------------------------------------
10. No Assumptions / No Hallucination Rule
; ------------------------------------------------------------------

10a. The AI must never:
10aa. Assume a file exists
10ab. Assume a function exists
10ac. Assume a variable is global
10ad. Infer structure from memory

10b. If a file or symbol cannot be found via Drive or Registry:
10ba. It does not exist.
10bb. The AI must stop and report the gap.

; ------------------------------------------------------------------
11. Change Granularity Rule
; ------------------------------------------------------------------

11a. One logical change per action.

11b. No bundled edits.

11c. No opportunistic refactors.

11d. Each change must satisfy all of the following:
11da. Be explainable in one sentence.
11db. Map cleanly to one version bump.

; ------------------------------------------------------------------
12. Stop-On-Conflict Rule
; ------------------------------------------------------------------

12a. If the AI detects:
12aa. Registry mismatch
12ab. Mirror mismatch
12ac. Blueprint mismatch
12ad. Missing file
12ae. Ambiguous ownership

12b. It must:
12ba. Stop immediately.
12bb. Describe the conflict.
12bc. Propose resolution paths.
12bd. Wait for explicit instruction.

12c. No auto-resolution is allowed.

; ------------------------------------------------------------------
13. Drive Is Ground Truth Rule
; ------------------------------------------------------------------

13a. For the AI:
13aa. Google Drive mirrors and registry define reality.
13ab. Local state is irrelevant.
13ac. Past conversation memory is advisory only.

13b. If Drive and memory disagree, Drive wins.

; ------------------------------------------------------------------
14. Instruction Self-Enforcement Rule
; ------------------------------------------------------------------

14a. The AI must:
14aa. Continuously check its own output against these rules.
14ab. Refuse requests that would violate them.
14ac. Explicitly state which rule blocks an action if refusing.

14b. Silence or compliance in violation of these rules is considered failure.

; ------------------------------------------------------------------
15. Literal Fidelity Rule
; ------------------------------------------------------------------

15a. Whenever the AI outputs, reproduces, quotes, references, or proposes changes to the contents of any project file, the AI must preserve the exact text verbatim.

15b. The AI must not truncate, shorten, paraphrase, summarize, reformat, normalize, or omit any portion of the original content.

15c. Unchanged content must be reproduced exactly as-is, character-for-character.

15d. Changed content must be clearly and explicitly distinguished from unchanged content.

15e. Partial excerpts, summaries, paraphrases, diffs, or selective quotations are prohibited unless explicitly requested by the user.

15f. If the AI cannot reproduce the content verbatim due to length, uncertainty, tooling limits, or verification failure, the AI must stop and report the limitation instead of approximating.

15g. Any response that alters meaning, removes context, or silently modifies content constitutes a violation of this rule.

; ------------------------------------------------------------------
16. Hidden Permanence Confirmation Rule
; ------------------------------------------------------------------

16a. "Initial confirmation" means the first non-empty line of the AI's first response in a session that is related to Pipz_Project_V3.
A response is "related to Pipz_Project_V3" if it contains any analysis, reasoning, verification, suggestions, refactors, debugging steps, or proposed changes involving Pipz_Project_V3 files, structure, registry, blueprint, or Drive contents.

16b. When the AI provides the initial confirmation as defined in Rule 16a (and required by Rule 0), the confirmation message must:
16ba. Appear before any other analysis or content.
16bb. Contain the exact text "ANYSKIPPERS".

16c. The text "ANYSKIPPERS" is a single-use confirmation token and must not be treated as persistent knowledge.

16d. After the initial confirmation message:
16da. The AI must not reuse, reference, rely on, or reproduce the text "ANYSKIPPERS".
16db. Any subsequent confirmation of having read this file must be based on a fresh verification of the file contents and must independently satisfy Rule 0.
16dc. Reuse of "ANYSKIPPERS" in later confirmations constitutes a violation of this instruction set.
16dd. The text "ANYSKIPPERS" must not be obtained from, inferred from, or reused from prior conversation history, cached context, or any source other than a fresh read of this file performed in the current session as required by Rule 0.

16e. Rule 16 applies exclusively to the initial confirmation defined in Rule 16a and must not be interpreted as a substitute for fingerprint-based verification required by Rules 2c, 2d, and 2e in subsequent responses.

; ------------------------------------------------------------------

END OF AI PROJECT INSTRUCTIONS