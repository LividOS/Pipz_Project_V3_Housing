; ------------------------------------------------------------------
; GEMINI MEM TAG (DO NOT EVER REMOVE OR EDIT) - MY FULL PATH IS "Pipz_Project_V3\BOOTSTRAPv4.txt"
; ------------------------------------------------------------------

; ------------------------------------------------------------------
; MAINTEMPLATE - BOOTSTRAPv4.txt
; Version: 1.2.2
; Last change: Revised Phase 2 to reflect new registry hierarchy requirements.
; Content-Fingerprint: 2026-01-27T13-39-09Z-5SJNOFBZ
; ------------------------------------------------------------------

; ------------------------------------------------------------------
; ALL CONTENT MUST GO BELOW THIS POINT(LINES 1-14 RESERVED)
; ------------------------------------------------------------------

; ------------------------------------------------------------------
BOOTSTRAP v4 — CONVERSATION INITIALIZATION PROTOCOL
; ------------------------------------------------------------------

(FINALIZED SPECIFICATION)

Bootstrap v4 is a **mandatory conversation initialization protocol** for Pipz_Project_V3.

Its purpose is to guarantee that the AI can **reliably re-establish full project authority** at the start of any new chat **without relying on memory, inference, or Drive search heuristics**.

Bootstrap v4 is **not optional** and must be executed before *any* analysis, debugging, or code work.

; ------------------------------------------------------------------
PHASE 0 — GOVERNANCE GATE (HARD STOP)
; ------------------------------------------------------------------

The AI **MUST**:

1. Locate, open, and fully read:

   ; - `Pipz_Project_V3\AI_PROJECT_INSTRUCTIONS.txt`

2. Verify:

   ; - Presence of GEMINI MEM TAG
   ; - Presence of Content-Fingerprint
   ; - Fingerprint is well-formed and readable

3. Obey **all rules** defined within, including but not limited to:

   ; - Mandatory re-verification rules
   ; - Fingerprint precedence rules
   ; - Stop-on-conflict rules
   ; - ANYSKIPPERS single-use confirmation requirement

STOP CONDITIONS (ABSOLUTE):

; - File cannot be opened
; - File is truncated
; - Fingerprint is missing or malformed
; - Any rule cannot be satisfied

No further phases may execute if Phase 0 fails.

; ------------------------------------------------------------------
PHASE 1 — ROOT RESOLUTION (NO SEARCH HEURISTICS)
; ------------------------------------------------------------------

Bootstrap v4 **does not rely on Google Drive search alone**.

Root resolution uses the following **strict precedence order**:

1. `INDEXIDLIST.txt` (if present)

   ; - Canonical Drive folder ID for `\Pipz_Project_V3`
   ; - Declared as acceleration only, never truth

2. GEMINI MEM TAG declared paths

3. `_PROJECT_BLUEPRINT.txt` defined structure

4. Google Drive search (LAST RESORT ONLY)

RULE:

Drive IDs accelerate access but do not establish authority.

If root cannot be resolved deterministically → **STOP**.

; ------------------------------------------------------------------
PHASE 2 — CANONICAL FILE SET VERIFICATION
; ------------------------------------------------------------------

The AI **MUST** locate, open, and fully read the following mandatory files:
; - AI_PROJECT_INSTRUCTIONS.txt
; - _PROJECT_BLUEPRINT.txt
; - _PROJECT_ANCHOR_MASTER.txt
; - INDEXIDLIST.txt
; - PROJECT_LEARNED_CONSTRAINTS.txt

The AI **MUST** ALSO locate and read the MASTER REGISTRY (Hierarchy Enforcement):
; - PRIMARY: GLOBAL_REGISTRY_MASTER.gsheet
; - FALLBACK: GLOBAL_REGISTRY_MASTER.csv (Required ONLY if .gsheet is missing)

Each file must:

; - Be readable in full
; - Declare Content-Fingerprint (where applicable)
; - Match its declared identity
; - Adhere to the PLC-0006 "Flat-File Sovereignty" constraint

STOP CONDITIONS:

; - Any of the four mandatory governance files are missing.
; - BOTH GLOBAL_REGISTRY_MASTER.gsheet AND GLOBAL_REGISTRY_MASTER.csv are missing.
; - The .csv is present but its content-fingerprint does not match the .gsheet (if both are accessible).

; ------------------------------------------------------------------
PHASE 3 — STRUCTURE RECONSTRUCTION (EXPECTED STATE)
; ------------------------------------------------------------------

Using **only authoritative declarations**, the AI reconstructs the **expected project structure**, including:

; - Root directory
; - Controller / Worker / Lib / Registry / Modules directories
; - Required `.txt` mirrors
; - Required runtime counterparts

This phase establishes **what must exist**, not what Drive happens to expose.
No inference is permitted.

; ------------------------------------------------------------------
PHASE 4 — VERIFICATION DECLARATION
; ------------------------------------------------------------------

Only after Phases 0–3 succeed may the AI:

; - Declare successful Bootstrap v4 completion
; - Proceed with analysis, debugging, or code work

All subsequent responses must continue to obey:

; - Mandatory fingerprint declarations
; - Stop-on-conflict behavior
; - No assumption / no inference rules

; ------------------------------------------------------------------
BOOTSTRAP v4 — COMPLETION DECLARATION (CANONICAL)
; ------------------------------------------------------------------

If and only if Phases 0 through 4 complete successfully, the AI MUST emit
the following declaration verbatim in its response:

"BOOTSTRAP v4 COMPLETE — Pipz_Project_V3 authority established."

Rules:

1. The declaration MUST:

   ; - Appear as a standalone line
   ; - Appear before any analysis, reasoning, or suggestions
   ; - Appear only after successful completion of Phases 0–4

2. The declaration MUST NOT:

   ; - Be paraphrased
   ; - Be abbreviated
   ; - Be combined with other text
   ; - Be emitted conditionally or speculatively

3. If any phase fails:

   ; - The declaration MUST NOT be emitted
   ; - The AI MUST stop and report the failure point

4. This declaration:

   ; - Does NOT bypass fingerprint verification
   ; - Does NOT bypass registry checks
   ; - Does NOT authorize Phase 5 implicitly

This declaration signals initialization success only.
All subsequent rules remain in force.

; ------------------------------------------------------------------